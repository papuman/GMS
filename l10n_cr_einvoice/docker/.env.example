# Environment Configuration for GMS Odoo E-Invoicing
# Copy this file to .env and fill in your actual values
# NEVER commit .env to version control!

# ============================================================================
# Database Configuration
# ============================================================================
POSTGRES_DB=odoo
POSTGRES_USER=odoo
POSTGRES_PASSWORD=change_me_strong_password_here
DB_HOST=db
DB_PORT=5432

# ============================================================================
# Redis Configuration (for caching)
# ============================================================================
REDIS_PASSWORD=change_me_redis_password_here

# ============================================================================
# Hacienda API Configuration
# ============================================================================
# Environment: 'sandbox' for testing, 'production' for live
HACIENDA_ENV=sandbox

# Sandbox credentials (for testing)
HACIENDA_API_URL=https://api-sandbox.hacienda.go.cr/fe/tribuc
HACIENDA_USERNAME=your_sandbox_username
HACIENDA_PASSWORD=your_sandbox_password

# Production credentials (comment out when using sandbox)
# HACIENDA_API_URL=https://api.hacienda.go.cr/fe/tribuc
# HACIENDA_USERNAME=your_production_username
# HACIENDA_PASSWORD=your_production_password

# ============================================================================
# Email (SMTP) Configuration
# ============================================================================
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your_app_specific_password
SMTP_SSL=True

# Alternative SMTP providers:
# - SendGrid: smtp.sendgrid.net (port 587)
# - AWS SES: email-smtp.us-east-1.amazonaws.com (port 587)
# - Mailgun: smtp.mailgun.org (port 587)

# ============================================================================
# Odoo Configuration
# ============================================================================
# Number of worker processes (recommended: CPU cores * 2)
ODOO_WORKERS=4

# Number of cron threads (recommended: 2 for e-invoicing)
ODOO_MAX_CRON_THREADS=2

# Database connection pool size
ODOO_DB_MAXCONN=64

# Memory limits (in bytes)
# Hard limit: 2.5GB
ODOO_LIMIT_MEMORY_HARD=2684354560
# Soft limit: 2GB
ODOO_LIMIT_MEMORY_SOFT=2147483648

# CPU time limits (in seconds)
ODOO_LIMIT_TIME_CPU=600
ODOO_LIMIT_TIME_REAL=1200

# Admin master password (for database management)
ODOO_ADMIN_PASSWORD=change_me_admin_master_password

# ============================================================================
# SSL/TLS Configuration
# ============================================================================
# Domain name for SSL certificate
DOMAIN_NAME=your-domain.com
ADMIN_EMAIL=admin@your-domain.com

# Paths to SSL certificates (use Let's Encrypt or your own)
SSL_CERT_PATH=/etc/nginx/ssl/fullchain.pem
SSL_KEY_PATH=/etc/nginx/ssl/privkey.pem

# ============================================================================
# Monitoring Configuration (Optional)
# ============================================================================
GRAFANA_USER=admin
GRAFANA_PASSWORD=change_me_grafana_password

# ============================================================================
# Backup Configuration
# ============================================================================
# S3-compatible storage for backups (optional)
BACKUP_S3_ENABLED=false
BACKUP_S3_BUCKET=gms-odoo-backups
BACKUP_S3_REGION=us-east-1
BACKUP_S3_ACCESS_KEY=your_access_key
BACKUP_S3_SECRET_KEY=your_secret_key

# Local backup retention (days)
BACKUP_RETENTION_DAYS=30

# Backup encryption (optional)
BACKUP_ENCRYPTION_ENABLED=false
BACKUP_ENCRYPTION_PASSWORD=change_me_backup_encryption_password

# ============================================================================
# Application Settings
# ============================================================================
# Timezone (Costa Rica uses America/Costa_Rica)
TZ=America/Costa_Rica

# Log level: debug, info, warn, error
LOG_LEVEL=info

# ============================================================================
# Security Settings
# ============================================================================
# Enable/disable public user signup
DISABLE_PUBLIC_SIGNUP=true

# Session timeout (seconds) - 8 hours
SESSION_TIMEOUT=28800

# Rate limiting (requests per minute)
RATE_LIMIT_API=100
RATE_LIMIT_LOGIN=5

# ============================================================================
# Feature Flags
# ============================================================================
# Enable monitoring stack (Prometheus + Grafana)
ENABLE_MONITORING=false

# Enable automatic backups
ENABLE_AUTO_BACKUP=true

# Enable email notifications
ENABLE_EMAIL_NOTIFICATIONS=true

# ============================================================================
# Development/Testing (set to false in production)
# ============================================================================
DEBUG_MODE=false
DEMO_DATA=false
