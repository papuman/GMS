---
title: "Feature Documentation - Feature-Specific Guides Index"
category: "features"
domain: "features"
layer: "index"
audience: ["product-manager", "developer", "user"]
last_updated: "2026-01-01"
status: "production-ready"
version: "1.0.0"
maintainer: "Product Team"
description: "Master index for feature-specific documentation - deep dives into key GMS features"
keywords: ["features", "xml-import", "void-wizard", "payment-gateway", "tax-reports", "pos-membership"]
---

# üìç Navigation Breadcrumb
[Home](../index.md) > Feature Documentation

---

# üéÅ Feature Documentation
**Feature-Specific Guides - Master Index**

**Version:** 1.0.0
**Last Updated:** 2026-01-01
**Status:** ‚úÖ Production Ready - All Features Documented
**Product Owner:** GMS Product Team

---

## üìä Executive Summary

The Feature Documentation contains in-depth guides for major GMS features, including user guides, technical specifications, and implementation details for each key feature.

**Featured Capabilities:**
- **XML Import:** Historical invoice migration from other systems
- **Void Wizard:** Invoice cancellation with credit notes
- **Payment Gateway:** TiloPay integration for online payments
- **Tax Reports:** D-101, D-150, D-151 generation for Hacienda
- **POS Membership:** Point-of-sale with member discounts
- **Invoice Migration:** Provider switching and data migration

**All Features:**
- ‚úÖ Production-ready
- ‚úÖ User-tested
- ‚úÖ Fully documented
- ‚úÖ 100% Costa Rica compliant

---

## üéØ Quick Navigation

| Feature | Quick Link | User Guide | Technical Docs |
|---------|------------|------------|----------------|
| **XML Import** | [XML Import](#1-xml-import-invoice-migration) | [User Guide](../../l10n_cr_einvoice/docs/XML_IMPORT_USER_GUIDE.md) | [Admin Guide](../../l10n_cr_einvoice/docs/XML_IMPORT_ADMIN_GUIDE.md) |
| **Void Wizard** | [Void Wizard](#2-void-wizard-invoice-cancellation) | [Quick Start](../../l10n_cr_einvoice/VOID_WIZARD_QUICK_START.md) | [Test Guide](../../GYM_VOID_WIZARD_TEST_GUIDE.md) |
| **Payment Gateway** | [TiloPay](#3-payment-gateway-tilopay) | [User Guide](#3-payment-gateway-tilopay) | [Phase 2 Summary](../../TILOPAY_PHASE2_EXECUTIVE_SUMMARY.md) |
| **Tax Reports** | [Tax Reports](#4-tax-reports-d-101-d-150-d-151) | [Tax Reports](#4-tax-reports-d-101-d-150-d-151) | [Phase 9 Summary](../../PHASE9-TAX-REPORTS-IMPLEMENTATION-SUMMARY.md) |
| **POS Membership** | [POS Features](#5-pos-membership-integration) | [Quick Reference](../../l10n_cr_einvoice/POS_MEMBERSHIP_QUICK_ACTIONS_GUIDE.md) | [Implementation](../../POS_MEMBERSHIP_IMPLEMENTATION_SUMMARY.md) |
| **Invoice Migration** | [Migration](#6-invoice-migration-provider-switching) | [Migration Guide](../02-research/costa-rica/migration-best-practices.md) | [Technical Spec](../02-research/costa-rica/migration-best-practices.md) |

---

## üìö Feature Categories

### 1. XML Import (Invoice Migration)

**Purpose:** Import historical invoices from previous e-invoicing systems
**Status:** ‚úÖ Production ready
**Directory:** `xml-import/`

**What It Does:**
- ‚úÖ Import invoices from XML files (any Costa Rica provider)
- ‚úÖ Automatic data extraction and validation
- ‚úÖ Consecutive number preservation (critical for compliance)
- ‚úÖ Batch import support (multiple files at once)
- ‚úÖ Error detection and reporting
- ‚úÖ Preview before import

**Key Features:**

#### Automatic Detection
```python
# Detects provider format automatically
Supported formats:
- FACTURATica XML
- GTI XML
- Alanube XML
- PROCOM XML
- Generic Hacienda v4.3/v4.4 XML
```

#### Smart Import Wizard
```
Step 1: Upload XML files (drag & drop)
Step 2: Auto-detect format and extract data
Step 3: Preview invoices (check consecutive numbers)
Step 4: Validate compliance (CABYS, locations, taxes)
Step 5: Import (background job)
Step 6: Review results (success/errors)
```

#### Consecutive Number Preservation
```python
# CRITICAL: Maintains sequential numbering
Old system last invoice: 001-00001-01-0000000234
First GMS invoice:       001-00001-01-0000000235  ‚Üê Continues sequence

# Prevents Hacienda rejection
# Prevents audit issues
```

**Documentation:**
- **User Guide:** [XML_IMPORT_USER_GUIDE.md](../../l10n_cr_einvoice/docs/XML_IMPORT_USER_GUIDE.md)
- **Admin Guide:** [XML_IMPORT_ADMIN_GUIDE.md](../../l10n_cr_einvoice/docs/XML_IMPORT_ADMIN_GUIDE.md)
- **Quick Reference:** [XML-IMPORT-QUICK-REFERENCE.md](../../XML-IMPORT-QUICK-REFERENCE.md)
- **Implementation:** [XML-IMPORT-COMPLETION-SUMMARY.md](../../XML-IMPORT-COMPLETION-SUMMARY.md)

**Use Cases:**
- Switching from FACTURATica to GMS
- Switching from GTI to GMS
- Migrating from standalone provider to integrated platform
- Historical data archive

---

### 2. Void Wizard (Invoice Cancellation)

**Purpose:** Cancel invoices legally with automatic credit note generation
**Status:** ‚úÖ Production ready (Phase 8)
**Directory:** `void-wizard/`

**What It Does:**
- ‚úÖ Multi-step guided wizard for voiding invoices
- ‚úÖ Void reason selection (error, cancellation, duplicate, etc.)
- ‚úÖ Automatic credit note generation (document type 03)
- ‚úÖ Hacienda submission (credit note)
- ‚úÖ Customer email notification
- ‚úÖ Complete audit trail

**Why Critical:**
This was identified as a **CRITICAL gap** in HuliPractice competitive analysis. Customers need ability to cancel invoices legally.

**Void Workflow:**
```
1. User clicks "Void Invoice" button
2. Wizard opens
3. Select void reason from dropdown:
   - Error in invoice data
   - Customer cancellation
   - Duplicate invoice
   - Other (specify)
4. Preview impact:
   - Credit note will be created
   - Original invoice marked as voided
   - Hacienda will be notified
5. Confirm void
6. System:
   - Creates credit note (type 03)
   - Signs credit note XML
   - Submits to Hacienda
   - Emails customer
   - Updates invoice status ‚Üí voided
   - Logs audit trail
```

**Legal Compliance:**
- ‚úÖ Credit note references original invoice (clave)
- ‚úÖ Credit note submitted to Hacienda (mandatory)
- ‚úÖ Void reason recorded for audits
- ‚úÖ Cannot void already-voided invoices
- ‚úÖ Cannot void if credit note already exists

**Documentation:**
- **Quick Start:** [VOID_WIZARD_QUICK_START.md](../../l10n_cr_einvoice/VOID_WIZARD_QUICK_START.md)
- **Test Guide:** [GYM_VOID_WIZARD_TEST_GUIDE.md](../../GYM_VOID_WIZARD_TEST_GUIDE.md)
- **Deployment:** [VOID_WIZARD_DEPLOYMENT_CHECKLIST.md](../../VOID_WIZARD_DEPLOYMENT_CHECKLIST.md)
- **Implementation:** [PHASE8_GYM_INVOICE_VOID_WIZARD.md](../../PHASE8_GYM_INVOICE_VOID_WIZARD.md)
- **Delivery Summary:** [GYM_INVOICE_VOID_WIZARD_DELIVERY_SUMMARY.md](../../GYM_INVOICE_VOID_WIZARD_DELIVERY_SUMMARY.md)

**Test Results:**
- ‚úÖ 12/12 tests passing (100%)
- ‚úÖ Integration tests: All scenarios validated
- ‚úÖ Production validation: Success

---

### 3. Payment Gateway (TiloPay)

**Purpose:** Online credit/debit card payments for gym memberships
**Status:** ‚úÖ Production ready (Phase 2)
**Directory:** `payment-gateway/`

**What It Does:**
- ‚úÖ Credit/debit card payment processing
- ‚úÖ Secure payment page (PCI-compliant)
- ‚úÖ Webhook notifications (real-time payment updates)
- ‚úÖ Payment status tracking
- ‚úÖ Refund processing
- ‚úÖ Membership auto-renewal

**TiloPay Integration:**
```python
# Payment flow
1. Customer selects membership plan
2. System creates TiloPay payment order
3. Customer redirected to TiloPay secure page
4. Customer enters card details (TiloPay hosted)
5. TiloPay processes payment
6. TiloPay sends webhook notification
7. GMS receives webhook, validates signature
8. GMS completes payment and activates membership
9. GMS generates e-invoice
10. GMS emails invoice to customer
```

**Supported Cards:**
- Visa
- Mastercard
- American Express
- Local Costa Rica debit cards

**Security:**
- ‚úÖ PCI-DSS compliant (TiloPay hosted)
- ‚úÖ No card data stored in GMS
- ‚úÖ Webhook signature verification
- ‚úÖ HTTPS only
- ‚úÖ Tokenization support

**Documentation:**
- **Implementation Summary:** [TILOPAY_PHASE2_EXECUTIVE_SUMMARY.md](../../TILOPAY_PHASE2_EXECUTIVE_SUMMARY.md)
- **UI/UX Enhancements:** [TILOPAY_UI_UX_ENHANCEMENTS_SUMMARY.md](../../TILOPAY_UI_UX_ENHANCEMENTS_SUMMARY.md)
- **Test Infrastructure:** [TILOPAY_TEST_INFRASTRUCTURE_SUMMARY.md](../../TILOPAY_TEST_INFRASTRUCTURE_SUMMARY.md)
- **API Access:** [TiloPay API Documentation](../TiloPayAccess/API.md)
- **Integration Guide:** [API Integration Domain](../10-api-integration/index.md)

**Use Cases:**
- Membership signup and payment
- Membership renewal
- One-time product purchases
- Personal training packages

---

### 4. Tax Reports (D-101, D-150, D-151)

**Purpose:** Generate Costa Rica tax reports for Hacienda
**Status:** ‚úÖ Production ready (Phase 9)
**Directory:** `tax-reports/`

**What It Does:**
- ‚úÖ D-101: Annual income tax declaration
- ‚úÖ D-150: Monthly VAT (IVA) report
- ‚úÖ D-151: Informative transaction report
- ‚úÖ XML generation (OVI platform format)
- ‚úÖ Preview before submission
- ‚úÖ Validation and error checking

**Why Critical:**
This was identified as a **CRITICAL gap** in HuliPractice competitive analysis. Tax reports are mandatory for Costa Rica compliance.

**Report Types:**

#### D-101: Income Tax Report (Annual)
```yaml
Purpose: Annual income tax declaration
Frequency: Yearly (by March 15)
Contents:
  - Total revenue by category
  - Deductible expenses
  - Net income calculation
  - Tax liability
Format: XML for OVI platform
```

#### D-150: VAT Report (Monthly)
```yaml
Purpose: Monthly IVA (VAT) declaration
Frequency: Monthly (by 15th of following month)
Contents:
  - Sales with IVA (4%, 13%)
  - Purchases with IVA
  - IVA collected vs paid
  - Net IVA to pay/refund
Format: XML for OVI platform
```

#### D-151: Informative Report (Periodic)
```yaml
Purpose: Detailed transaction list
Frequency: As required by Hacienda
Contents:
  - Customer/supplier details
  - Invoice references
  - Transaction amounts
  - Tax breakdowns
Format: XML for OVI platform
```

**Workflow:**
```
1. Navigate to Tax Reports menu
2. Select report type (D-101, D-150, or D-151)
3. Select period (month/quarter/year)
4. Click "Generate Report"
5. System calculates:
   - Aggregates invoices for period
   - Calculates taxes
   - Validates data
6. Preview report (PDF)
7. Review and validate
8. Download XML for OVI submission
9. (Optional) Submit directly to Hacienda
```

**Documentation:**
- **Implementation Summary:** [PHASE9-TAX-REPORTS-IMPLEMENTATION-SUMMARY.md](../../PHASE9-TAX-REPORTS-IMPLEMENTATION-SUMMARY.md)
- **Backend Complete:** [PHASE9-BACKEND-IMPLEMENTATION-COMPLETE.md](../../PHASE9-BACKEND-IMPLEMENTATION-COMPLETE.md)
- **UI Complete:** [PHASE9B-UI-IMPLEMENTATION-COMPLETE.md](../../PHASE9B-UI-IMPLEMENTATION-COMPLETE.md)
- **Quick Reference:** [PHASE9-TAX-REPORTS-QUICK-REFERENCE.md](../../PHASE9-TAX-REPORTS-QUICK-REFERENCE.md)

**Compliance:**
- ‚úÖ OVI platform format (Oficina Virtual)
- ‚úÖ Hacienda v4.4 compliant
- ‚úÖ Automatic calculation validation
- ‚úÖ Error detection before submission

---

### 5. POS Membership Integration

**Purpose:** Point-of-sale with automatic member discount and e-invoicing
**Status:** ‚úÖ Production ready
**Directory:** `pos-membership/`

**What It Does:**
- ‚úÖ Member lookup at POS
- ‚úÖ Automatic membership discount application
- ‚úÖ Real-time membership status validation
- ‚úÖ Automatic e-invoice generation from POS sales
- ‚úÖ Document type auto-selection (ticket vs invoice)
- ‚úÖ Offline mode support

**POS Workflow:**
```
1. Cashier opens POS
2. Customer wants to purchase (protein shake, merchandise)
3. Cashier scans member card or enters member ID
4. System:
   - Looks up member
   - Checks membership active/expired
   - Applies member discount (if active)
5. Customer pays (cash, card, SINPE)
6. POS closes sale
7. System (background):
   - Determines document type:
     ‚â§ ‚Ç°500,000 ‚Üí Ticket (type 04)
     > ‚Ç°500,000 ‚Üí Invoice (type 01)
   - Generates XML
   - Signs XML
   - Submits to Hacienda (async)
8. Email invoice to member
```

**Member Benefits:**
- ‚úÖ Automatic discount (configured per membership plan)
- ‚úÖ Points/rewards tracking (optional)
- ‚úÖ Purchase history in portal
- ‚úÖ Email invoices automatically

**Offline Mode:**
```python
# If internet down at POS:
1. POS queues sale locally
2. Customer gets receipt (provisional)
3. When internet restored:
   - Background job processes queue
   - Submits all queued invoices to Hacienda
   - Emails invoices to customers
```

**Documentation:**
- **Implementation Summary:** [POS_MEMBERSHIP_IMPLEMENTATION_SUMMARY.md](../../POS_MEMBERSHIP_IMPLEMENTATION_SUMMARY.md)
- **Quick Actions Guide:** [POS_MEMBERSHIP_QUICK_ACTIONS_GUIDE.md](../../l10n_cr_einvoice/POS_MEMBERSHIP_QUICK_ACTIONS_GUIDE.md)
- **Quick Reference:** [POS_MEMBERSHIP_QUICK_REFERENCE.md](../../POS_MEMBERSHIP_QUICK_REFERENCE.md)
- **Integration Spec:** [POS_EINVOICE_INTEGRATION_SPEC.md](../POS_EINVOICE_INTEGRATION_SPEC.md)
- **Test Results:** [POS-TEST-RESULTS.md](../../POS-TEST-RESULTS.md)

**Test Results:**
- ‚úÖ 13/13 POS tests passing (100%)
- ‚úÖ Offline mode validated
- ‚úÖ Member discount accuracy: 100%

---

### 6. Invoice Migration (Provider Switching)

**Purpose:** Migrate from other Costa Rica e-invoicing providers
**Status:** ‚úÖ Production ready
**Directory:** `invoice-migration/`

**What It Does:**
- ‚úÖ Import historical invoices (see XML Import feature)
- ‚úÖ Consecutive number preservation (CRITICAL)
- ‚úÖ Provider-agnostic import (works with all CR providers)
- ‚úÖ Data validation and error reporting
- ‚úÖ Preview before final migration

**Migration Scenarios:**

#### Scenario 1: First-Time E-Invoicing
```yaml
Previous: Paper invoices or informal system
Action: Start consecutive numbers at 1
Notes: No migration needed, fresh start
```

#### Scenario 2: Switching Providers
```yaml
Previous: FACTURATica, GTI, Alanube, etc.
Action: Continue consecutive numbers from last invoice
CRITICAL: Cannot reset to 1
Example:
  Last FACTURATica invoice: 001-00001-01-0000000234
  First GMS invoice:        001-00001-01-0000000235
```

#### Scenario 3: New Branch/Location
```yaml
Previous: HQ using e-invoicing
Action: New establishment code (002, 003, etc.)
Notes: Each location has independent consecutive
```

#### Scenario 4: Consecutive Max Reached
```yaml
Previous: Reached 9,999,999,999 (max)
Action: Can reset to 1 (only when max reached)
Notes: Rare scenario
```

**Migration Process:**
```
1. Export invoices from old provider (XML)
2. Upload to GMS XML Import wizard
3. System analyzes files:
   - Detects provider format
   - Extracts last consecutive number
   - Validates data integrity
4. Preview migration:
   - Shows last consecutive from old system
   - Shows first consecutive for GMS
   - Confirms continuation
5. User confirms "Yes, numbers are correct"
6. System imports historical invoices
7. Sets GMS consecutive to continue sequence
8. Ready for new invoices
```

**Documentation:**
- **Migration Guide:** [Costa Rica Migration Best Practices](../02-research/costa-rica/migration-best-practices.md)
- **Provider Landscape:** [E-Invoice Providers Landscape](../02-research/costa-rica/einvoice-providers-landscape.md)
- **XML Import Guide:** [XML_IMPORT_USER_GUIDE.md](../../l10n_cr_einvoice/docs/XML_IMPORT_USER_GUIDE.md)
- **Critical Issues:** [CRITICAL-INVOICE-MIGRATION-ISSUE.md](../../CRITICAL-INVOICE-MIGRATION-ISSUE.md)
- **Complete Analysis:** [INVOICE-MIGRATION-COMPLETE-ANALYSIS.md](../../INVOICE-MIGRATION-COMPLETE-ANALYSIS.md)

**Legal Requirement:**
```
Costa Rica Resolution DGT-R-033-2019:
"Consecutive numbers MUST continue when switching systems.
Cannot reset to 1 unless maximum (9,999,999,999) reached."

Non-compliance = Hacienda audit + penalties
```

---

## üìä Feature Comparison Matrix

| Feature | Phase | Status | User Docs | Test Coverage | Production |
|---------|-------|--------|-----------|---------------|------------|
| **XML Import** | Phase 5 | ‚úÖ Complete | ‚úÖ Yes | 100% | ‚úÖ Live |
| **Void Wizard** | Phase 8 | ‚úÖ Complete | ‚úÖ Yes | 100% | ‚úÖ Live |
| **TiloPay Gateway** | Phase 2 | ‚úÖ Complete | ‚úÖ Yes | 98% | ‚úÖ Live |
| **Tax Reports** | Phase 9 | ‚úÖ Complete | ‚úÖ Yes | 95% | ‚úÖ Live |
| **POS Membership** | Phase 1-3 | ‚úÖ Complete | ‚úÖ Yes | 100% | ‚úÖ Live |
| **Invoice Migration** | Phase 5 | ‚úÖ Complete | ‚úÖ Yes | 100% | ‚úÖ Live |

---

## üîç Search Keywords (For LLM Agents)

**Features:**
- `features`, `xml-import`, `void-wizard`, `payment-gateway`
- `tax-reports`, `pos-membership`, `invoice-migration`

**Use Cases:**
- `provider-switching`, `historical-import`, `invoice-cancellation`
- `credit-note`, `tilopay-payment`, `membership-discount`
- `d101-report`, `d150-report`, `d151-report`

**Technical:**
- `consecutive-numbering`, `hacienda-submission`, `xml-parsing`
- `webhook-handling`, `offline-mode`, `batch-import`

---

## üîó Related Documentation

**For Implementation:**
- [Implementation Guides](../05-implementation/index.md) - How features were built
- Phase-specific guides for each feature

**For Users:**
- [User Guides Domain](../09-user-guides/index.md) - End-user documentation

**For Research:**
- [HuliPractice Analysis](../02-research/competitive/hulipractice/00-INTELLIGENCE-INDEX.md) - Source of void wizard & tax reports requirements
- [Costa Rica Research](../02-research/costa-rica/00-COSTA-RICA-RESEARCH-INDEX.md) - Migration and compliance

**For Testing:**
- [Testing Documentation](../07-testing/index.md) - Test results for all features

---

## üîÑ Maintenance & Updates

### Update Schedule

- **After feature updates** - Update feature documentation
- **Quarterly** - Review user guides for clarity
- **Annually** - Full feature documentation audit

### Document Ownership

| Feature | Owner |
|---------|-------|
| XML Import | Backend Team |
| Void Wizard | Full Stack Team |
| Payment Gateway | Backend Team + Finance |
| Tax Reports | Backend Team + Compliance |
| POS Membership | Integration Team |
| Invoice Migration | Backend Team |

---

## ‚úÖ Feature Documentation Status

**Status:** ‚úÖ **PRODUCTION READY - v1.0.0**
**Coverage:**
- ‚úÖ All 6 major features documented
- ‚úÖ User guides available for all features
- ‚úÖ Technical specs complete
- ‚úÖ Test coverage 95%+ average
- ‚úÖ Production validation complete

**Quality Indicators:**
- ‚úÖ All features in production
- ‚úÖ User-tested and validated
- ‚úÖ 100% Costa Rica compliance
- ‚úÖ Complete documentation chain

**Last Update:** 2026-01-01
**Next Review:** 2026-04-01 (Quarterly)

---

**üéÅ Feature Documentation Maintained By:** GMS Product Team
**Version:** 1.0.0
**Last Updated:** 2026-01-01
